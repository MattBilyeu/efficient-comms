"use strict";(self.webpackChunkangular_frontend=self.webpackChunkangular_frontend||[]).push([[861],{3861:(O,m,l)=>{l.r(m),l.d(m,{ManagerModule:()=>q});var c=l(6814),f=l(5763),t=l(9291);const _=[];let U=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(_),f.Bz]})}return i})(),Z=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user"]],decls:2,vars:0,template:function(n,a){1&n&&(t.TgZ(0,"p"),t._uU(1,"user works!"),t.qZA())}})}return i})();var g=l(2848),h=l(1269),s=l(95),r=l(1781),v=l(6593);const T=["files"];function C(i,o){if(1&i&&(t.TgZ(0,"a",16),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("href",e,t.LSH),t.xp6(1),t.Oqu(e)}}function b(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function y(i,o){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}let A=(()=>{class i{constructor(e,n,a){this.dataService=e,this.domSanitizer=n,this.httpService=a,this.updated=new t.vpe,this.fileUrls=[],this.editorConfig={base_url:"/tinymce",suffix:".min",plugins:"lists link table",toolbar:"numlist bullist link table"}}ngOnInit(){this.initializeComponent()}initializeComponent(){this.update=this.dataService.team.updates.filter(e=>e._Id===this.uId)[0],this.text=this.domSanitizer.bypassSecurityTrustHtml(this.update.text),Array.isArray(this.update.files)&&"string"==typeof this.update.files[0]&&(this.fileUrls=this.update.files),this.httpService.getUserNames(this.update.acknowledged).subscribe(e=>{this.update.acknowledged=e}),this.httpService.getUserNames(this.update.notAcknowledged).subscribe(e=>{this.update.notAcknowledged=e})}chooseFiles(e){this.fileList=e.target.files}updateUpdate(e){let n;n=this.fileList?this.fileList:this.fileUrls,this.httpService.updateUpdate(this.uId,this.fileList,e.value.title,e.value.text).subscribe(a=>{this.alert=a.message,"Update updated."===a.message&&(this.updated.emit(!0),this.initializeComponent())})}deleteUpdate(){this.httpService.deleteUpdate(this.uId).subscribe(e=>{this.alert=e.message,"Update deleted."===e.message&&this.updated.emit(!0)})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.D),t.Y36(v.H7),t.Y36(h.O))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-update-detail"]],viewQuery:function(n,a){if(1&n&&t.Gf(T,5),2&n){let d;t.iGM(d=t.CRH())&&(a.fileInput=d.first)}},inputs:{uId:"uId"},decls:29,vars:6,consts:[[1,"container"],[1,"viewEscalation"],[1,"inputsContainer"],[3,"ngSubmit"],["a","ngForm"],["for","text"],[3,"innerHTML"],["id","text","name","text","ngModel","","required","",3,"init"],["for","files"],["type","file","name","files","id","files","multiple","","ngModel","",3,"change"],["type","submit"],["type","button",3,"click"],[1,"files"],["target","_blank",3,"href",4,"ngFor","ngForOf"],[1,"acknowledgements"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(n,a){if(1&n){const d=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(d);const p=t.MAs(4);return t.KtG(a.updateUpdate(p))}),t.TgZ(5,"h3"),t._uU(6),t.qZA(),t.TgZ(7,"label",5),t._uU(8,"Text: "),t.qZA(),t._UZ(9,"div",6)(10,"editor",7),t.TgZ(11,"label",8),t._uU(12,"Files:"),t.qZA(),t.TgZ(13,"input",9),t.NdJ("change",function(p){return a.chooseFiles(p)}),t.qZA(),t.TgZ(14,"button",10),t._uU(15,"Update"),t.qZA()(),t.TgZ(16,"button",11),t.NdJ("click",function(){return a.deleteUpdate()}),t._uU(17,"Resolve Escalation"),t.qZA()(),t.TgZ(18,"div",12),t.YNc(19,C,2,2,"a",13),t.qZA(),t.TgZ(20,"div",14)(21,"h3"),t._uU(22,"Acknowledged By:"),t.qZA(),t.TgZ(23,"ul"),t.YNc(24,b,2,1,"li",15),t.qZA(),t.TgZ(25,"h3"),t._uU(26,"Not Acknowledged By:"),t.qZA(),t.TgZ(27,"ul"),t.YNc(28,y,2,1,"li",15),t.qZA()()()()}2&n&&(t.xp6(6),t.Oqu(a.update.title),t.xp6(3),t.Q6J("innerHTML",a.update.text,t.oJD),t.xp6(1),t.Q6J("init",a.editorConfig),t.xp6(9),t.Q6J("ngForOf",a.fileUrls),t.xp6(5),t.Q6J("ngForOf",a.update.acknowledged),t.xp6(4),t.Q6J("ngForOf",a.update.notAcknowledged))},dependencies:[c.sg,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,r.PG]})}return i})();function F(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"app-update-detail",11),t.NdJ("updated",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateComponent())}),t.qZA()}2&i&&t.Q6J("uId",o.$implicit._Id)}let S=(()=>{class i{constructor(e,n){this.dataService=e,this.httpService=n,this.editorConfig={base_url:"/tinymce",suffix:".min",plugins:"lists link table",toolbar:"numlist bullist link table"}}ngOnInit(){this.updates=this.dataService.team.updates}updateComponent(){this.httpService.getPopulatedTeam(this.dataService.team._Id)}chooseFiles(e){this.files=e.target.files}createUpdate(e){this.httpService.createUpdate(this.files,e.value.title,e.value.text).subscribe(n=>{this.alert=n.message,"Update created."===n.message&&this.updateComponent()})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.D),t.Y36(h.O))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-updates"]],decls:14,vars:2,consts:[[1,"container"],[3,"ngSubmit"],["f","ngForm"],[1,"group"],["for","title"],["type","text","id","title","name","title","ngModel","","required",""],["for","files"],["type","file","name","files","id","files","multiple","","ngModel","",3,"change"],["id","note","name","note","ngModel","","required","",3,"init"],["type","submit"],[3,"uId","updated",4,"ngFor","ngForOf"],[3,"uId","updated"]],template:function(n,a){if(1&n){const d=t.EpF();t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(d);const p=t.MAs(2);return t.KtG(a.createUpdate(p))}),t.TgZ(3,"div",3)(4,"label",4),t._uU(5,"Title: "),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"label",6),t._uU(8,"Files:"),t.qZA(),t.TgZ(9,"input",7),t.NdJ("change",function(p){return a.chooseFiles(p)}),t.qZA(),t._UZ(10,"editor",8),t.TgZ(11,"button",9),t._uU(12,"Create Update"),t.qZA()()(),t.YNc(13,F,1,1,"app-update-detail",10)}2&n&&(t.xp6(10),t.Q6J("init",a.editorConfig),t.xp6(3),t.Q6J("ngForOf",a.updates))},dependencies:[c.sg,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,r.PG,A]})}return i})(),J=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-manager"]],decls:2,vars:0,template:function(n,a){1&n&&t._UZ(0,"app-user")(1,"app-updates")},dependencies:[Z,S]})}return i})();var M=l(6208);let q=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i,bootstrap:[J]});static#i=this.\u0275inj=t.cJS({providers:[{provide:r.f8,useValue:"tinymce/tinymce.min.js"}],imports:[c.ez,U,s.u5,r.Z_,M.m]})}return i})()}}]);